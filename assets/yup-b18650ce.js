import{a as ze}from"./chunk-IJBC3YLI-6ce3e25a.js";import{h as _r,f as Je,k as Vr,o as mr,j as fe,c as Ar,d as Qe,G as xr,a0 as z}from"./index-d0bb2854.js";var[br,Fr]=_r({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),wr=Je((e,i)=>{const s=Vr("FormError",e),t=mr(e),n=ze();return n!=null&&n.isInvalid?fe.jsx(br,{value:s,children:fe.jsx(Ar.div,{...n==null?void 0:n.getErrorMessageProps(t,i),className:Qe("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...s.text}})}):null});wr.displayName="FormErrorMessage";var Dr=Je((e,i)=>{const s=Fr(),t=ze();if(!(t!=null&&t.isInvalid))return null;const n=Qe("chakra-form__error-icon",e.className);return fe.jsx(xr,{ref:i,"aria-hidden":!0,...e,__css:s.icon,className:n,children:fe.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});Dr.displayName="FormErrorIcon";var ue=e=>e.type==="checkbox",ee=e=>e instanceof Date,N=e=>e==null;const Xe=e=>typeof e=="object";var S=e=>!N(e)&&!Array.isArray(e)&&Xe(e)&&!ee(e),pr=e=>S(e)&&e.target?ue(e.target)?e.target.checked:e.target.value:e,Er=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Sr=(e,i)=>e.has(Er(i)),kr=e=>{const i=e.constructor&&e.constructor.prototype;return S(i)&&i.hasOwnProperty("isPrototypeOf")},ke=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Y(e){let i;const s=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(ke&&(e instanceof Blob||e instanceof FileList))&&(s||S(e)))if(i=s?[]:{},!Array.isArray(e)&&!kr(e))i=e;else for(const t in e)i[t]=Y(e[t]);else return e;return i}var le=e=>Array.isArray(e)?e.filter(Boolean):[],E=e=>e===void 0,d=(e,i,s)=>{if(!i||!S(e))return s;const t=le(i.split(/[,[\].]+?/)).reduce((n,l)=>N(n)?n:n[l],e);return E(t)||t===e?E(e[i])?s:e[i]:t};const Be={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},P={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},W={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};z.createContext(null);var Or=(e,i,s,t=!0)=>{const n={defaultValues:i._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const f=l;return i._proxyFormState[f]!==P.all&&(i._proxyFormState[f]=!t||P.all),s&&(s[f]=!0),e[f]}});return n},U=e=>S(e)&&!Object.keys(e).length,Cr=(e,i,s,t)=>{s(e);const{name:n,...l}=e;return U(l)||Object.keys(l).length>=Object.keys(i).length||Object.keys(l).find(f=>i[f]===(!t||P.all))},Fe=e=>Array.isArray(e)?e:[e];function Nr(e){const i=z.useRef(e);i.current=e,z.useEffect(()=>{const s=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}var q=e=>typeof e=="string",Tr=(e,i,s,t,n)=>q(e)?(t&&i.watch.add(e),d(s,e,n)):Array.isArray(e)?e.map(l=>(t&&i.watch.add(l),d(s,l))):(t&&(i.watchAll=!0),s),Oe=e=>/^\w*$/.test(e),er=e=>le(e.replace(/["|']|\]/g,"").split(/\.|\[/));function x(e,i,s){let t=-1;const n=Oe(i)?[i]:er(i),l=n.length,f=l-1;for(;++t<l;){const m=n[t];let v=s;if(t!==f){const b=e[m];v=S(b)||Array.isArray(b)?b:isNaN(+n[t+1])?{}:[]}e[m]=v,e=e[m]}return e}var rr=(e,i,s,t,n)=>i?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[t]:n||!0}}:{};const Se=(e,i,s)=>{for(const t of s||Object.keys(e)){const n=d(e,t);if(n){const{_f:l,...f}=n;if(l&&i(l.name)){if(l.ref.focus){l.ref.focus();break}else if(l.refs&&l.refs[0].focus){l.refs[0].focus();break}}else S(f)&&Se(f,i)}}};var qe=e=>({isOnSubmit:!e||e===P.onSubmit,isOnBlur:e===P.onBlur,isOnChange:e===P.onChange,isOnAll:e===P.all,isOnTouch:e===P.onTouched}),je=(e,i,s)=>!s&&(i.watchAll||i.watch.has(e)||[...i.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),Mr=(e,i,s)=>{const t=le(d(e,s));return x(t,"root",i[s]),x(e,s,t),e},re=e=>typeof e=="boolean",Ce=e=>e.type==="file",Z=e=>typeof e=="function",de=e=>{if(!ke)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},ce=e=>q(e),Ne=e=>e.type==="radio",ye=e=>e instanceof RegExp;const He={value:!1,isValid:!1},We={value:!0,isValid:!0};var tr=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!E(e[0].attributes.value)?E(e[0].value)||e[0].value===""?We:{value:e[0].value,isValid:!0}:We:He}return He};const $e={isValid:!1,value:null};var sr=e=>Array.isArray(e)?e.reduce((i,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:i,$e):$e;function Ze(e,i,s="validate"){if(ce(e)||Array.isArray(e)&&e.every(ce)||re(e)&&!e)return{type:s,message:ce(e)?e:"",ref:i}}var X=e=>S(e)&&!ye(e)?e:{value:e,message:""},Ke=async(e,i,s,t,n)=>{const{ref:l,refs:f,required:m,maxLength:v,minLength:b,min:k,max:F,pattern:_,validate:$,name:M,valueAsNumber:ge,mount:oe,disabled:_e}=e._f,g=d(i,M);if(!oe||_e)return{};const R=f?f[0]:l,j=A=>{t&&R.reportValidity&&(R.setCustomValidity(re(A)?"":A||""),R.reportValidity())},O={},te=Ne(l),se=ue(l),Ve=te||se,I=(ge||Ce(l))&&E(l.value)&&E(g)||de(l)&&l.value===""||g===""||Array.isArray(g)&&!g.length,K=rr.bind(null,M,s,O),H=(A,V,D,T=W.maxLength,L=W.minLength)=>{const B=A?V:D;O[M]={type:A?T:L,message:B,ref:l,...K(A?T:L,B)}};if(n?!Array.isArray(g)||!g.length:m&&(!Ve&&(I||N(g))||re(g)&&!g||se&&!tr(f).isValid||te&&!sr(f).isValid)){const{value:A,message:V}=ce(m)?{value:!!m,message:m}:X(m);if(A&&(O[M]={type:W.required,message:V,ref:R,...K(W.required,V)},!s))return j(V),O}if(!I&&(!N(k)||!N(F))){let A,V;const D=X(F),T=X(k);if(!N(g)&&!isNaN(g)){const L=l.valueAsNumber||g&&+g;N(D.value)||(A=L>D.value),N(T.value)||(V=L<T.value)}else{const L=l.valueAsDate||new Date(g),B=ne=>new Date(new Date().toDateString()+" "+ne),G=l.type=="time",ie=l.type=="week";q(D.value)&&g&&(A=G?B(g)>B(D.value):ie?g>D.value:L>new Date(D.value)),q(T.value)&&g&&(V=G?B(g)<B(T.value):ie?g<T.value:L<new Date(T.value))}if((A||V)&&(H(!!A,D.message,T.message,W.max,W.min),!s))return j(O[M].message),O}if((v||b)&&!I&&(q(g)||n&&Array.isArray(g))){const A=X(v),V=X(b),D=!N(A.value)&&g.length>+A.value,T=!N(V.value)&&g.length<+V.value;if((D||T)&&(H(D,A.message,V.message),!s))return j(O[M].message),O}if(_&&!I&&q(g)){const{value:A,message:V}=X(_);if(ye(A)&&!g.match(A)&&(O[M]={type:W.pattern,message:V,ref:l,...K(W.pattern,V)},!s))return j(V),O}if($){if(Z($)){const A=await $(g,i),V=Ze(A,R);if(V&&(O[M]={...V,...K(W.validate,V.message)},!s))return j(V.message),O}else if(S($)){let A={};for(const V in $){if(!U(A)&&!s)break;const D=Ze(await $[V](g,i),R,V);D&&(A={...D,...K(V,D.message)},j(D.message),s&&(O[M]=A))}if(!U(A)&&(O[M]={ref:R,...A},!s))return O}}return j(!0),O};function Lr(e,i){const s=i.slice(0,-1).length;let t=0;for(;t<s;)e=E(e)?t++:e[i[t++]];return e}function Ur(e){for(const i in e)if(!E(e[i]))return!1;return!0}function C(e,i){const s=Array.isArray(i)?i:Oe(i)?[i]:er(i),t=s.length===1?e:Lr(e,s),n=s.length-1,l=s[n];return t&&delete t[l],n!==0&&(S(t)&&U(t)||Array.isArray(t)&&Ur(t))&&C(e,s.slice(0,-1)),e}function we(){let e=[];return{get observers(){return e},next:n=>{for(const l of e)l.next&&l.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(l=>l!==n)}}),unsubscribe:()=>{e=[]}}}var he=e=>N(e)||!Xe(e);function J(e,i){if(he(e)||he(i))return e===i;if(ee(e)&&ee(i))return e.getTime()===i.getTime();const s=Object.keys(e),t=Object.keys(i);if(s.length!==t.length)return!1;for(const n of s){const l=e[n];if(!t.includes(n))return!1;if(n!=="ref"){const f=i[n];if(ee(l)&&ee(f)||S(l)&&S(f)||Array.isArray(l)&&Array.isArray(f)?!J(l,f):l!==f)return!1}}return!0}var ir=e=>e.type==="select-multiple",Rr=e=>Ne(e)||ue(e),De=e=>de(e)&&e.isConnected,nr=e=>{for(const i in e)if(Z(e[i]))return!0;return!1};function ve(e,i={}){const s=Array.isArray(e);if(S(e)||s)for(const t in e)Array.isArray(e[t])||S(e[t])&&!nr(e[t])?(i[t]=Array.isArray(e[t])?[]:{},ve(e[t],i[t])):N(e[t])||(i[t]=!0);return i}function ar(e,i,s){const t=Array.isArray(e);if(S(e)||t)for(const n in e)Array.isArray(e[n])||S(e[n])&&!nr(e[n])?E(i)||he(s[n])?s[n]=Array.isArray(e[n])?ve(e[n],[]):{...ve(e[n])}:ar(e[n],N(i)?{}:i[n],s[n]):s[n]=!J(e[n],i[n]);return s}var pe=(e,i)=>ar(e,i,ve(i)),ur=(e,{valueAsNumber:i,valueAsDate:s,setValueAs:t})=>E(e)?e:i?e===""?NaN:e&&+e:s&&q(e)?new Date(e):t?t(e):e;function Ee(e){const i=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):i.disabled))return Ce(i)?i.files:Ne(i)?sr(e.refs).value:ir(i)?[...i.selectedOptions].map(({value:s})=>s):ue(i)?tr(e.refs).value:ur(E(i.value)?e.ref.value:i.value,e)}var Pr=(e,i,s,t)=>{const n={};for(const l of e){const f=d(i,l);f&&x(n,l,f._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:t}},ae=e=>E(e)?e:ye(e)?e.source:S(e)?ye(e.value)?e.value.source:e.value:e,Ir=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ge(e,i,s){const t=d(e,s);if(t||Oe(s))return{error:t,name:s};const n=s.split(".");for(;n.length;){const l=n.join("."),f=d(i,l),m=d(e,l);if(f&&!Array.isArray(f)&&s!==l)return{name:s};if(m&&m.type)return{name:l,error:m};n.pop()}return{name:s}}var Br=(e,i,s,t,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(i||e):(s?t.isOnBlur:n.isOnBlur)?!e:(s?t.isOnChange:n.isOnChange)?e:!0,qr=(e,i)=>!le(d(e,i)).length&&C(e,i);const jr={mode:P.onSubmit,reValidateMode:P.onChange,shouldFocusError:!0};function Hr(e={},i){let s={...jr,...e},t={submitCount:0,isDirty:!1,isLoading:Z(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},l=S(s.defaultValues)||S(s.values)?Y(s.defaultValues||s.values)||{}:{},f=s.shouldUnregister?{}:Y(l),m={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},b,k=0;const F={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_={values:we(),array:we(),state:we()},$=e.resetOptions&&e.resetOptions.keepDirtyValues,M=qe(s.mode),ge=qe(s.reValidateMode),oe=s.criteriaMode===P.all,_e=r=>a=>{clearTimeout(k),k=setTimeout(r,a)},g=async r=>{if(F.isValid||r){const a=s.resolver?U((await I()).errors):await H(n,!0);a!==t.isValid&&_.state.next({isValid:a})}},R=r=>F.isValidating&&_.state.next({isValidating:r}),j=(r,a=[],u,y,c=!0,o=!0)=>{if(y&&u){if(m.action=!0,o&&Array.isArray(d(n,r))){const h=u(d(n,r),y.argA,y.argB);c&&x(n,r,h)}if(o&&Array.isArray(d(t.errors,r))){const h=u(d(t.errors,r),y.argA,y.argB);c&&x(t.errors,r,h),qr(t.errors,r)}if(F.touchedFields&&o&&Array.isArray(d(t.touchedFields,r))){const h=u(d(t.touchedFields,r),y.argA,y.argB);c&&x(t.touchedFields,r,h)}F.dirtyFields&&(t.dirtyFields=pe(l,f)),_.state.next({name:r,isDirty:V(r,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else x(f,r,a)},O=(r,a)=>{x(t.errors,r,a),_.state.next({errors:t.errors})},te=(r,a,u,y)=>{const c=d(n,r);if(c){const o=d(f,r,E(u)?d(l,r):u);E(o)||y&&y.defaultChecked||a?x(f,r,a?o:Ee(c._f)):L(r,o),m.mount&&g()}},se=(r,a,u,y,c)=>{let o=!1,h=!1;const w={name:r};if(!u||y){F.isDirty&&(h=t.isDirty,t.isDirty=w.isDirty=V(),o=h!==w.isDirty);const p=J(d(l,r),a);h=d(t.dirtyFields,r),p?C(t.dirtyFields,r):x(t.dirtyFields,r,!0),w.dirtyFields=t.dirtyFields,o=o||F.dirtyFields&&h!==!p}if(u){const p=d(t.touchedFields,r);p||(x(t.touchedFields,r,u),w.touchedFields=t.touchedFields,o=o||F.touchedFields&&p!==u)}return o&&c&&_.state.next(w),o?w:{}},Ve=(r,a,u,y)=>{const c=d(t.errors,r),o=F.isValid&&re(a)&&t.isValid!==a;if(e.delayError&&u?(b=_e(()=>O(r,u)),b(e.delayError)):(clearTimeout(k),b=null,u?x(t.errors,r,u):C(t.errors,r)),(u?!J(c,u):c)||!U(y)||o){const h={...y,...o&&re(a)?{isValid:a}:{},errors:t.errors,name:r};t={...t,...h},_.state.next(h)}R(!1)},I=async r=>s.resolver(f,s.context,Pr(r||v.mount,n,s.criteriaMode,s.shouldUseNativeValidation)),K=async r=>{const{errors:a}=await I();if(r)for(const u of r){const y=d(a,u);y?x(t.errors,u,y):C(t.errors,u)}else t.errors=a;return a},H=async(r,a,u={valid:!0})=>{for(const y in r){const c=r[y];if(c){const{_f:o,...h}=c;if(o){const w=v.array.has(o.name),p=await Ke(c,f,oe,s.shouldUseNativeValidation&&!a,w);if(p[o.name]&&(u.valid=!1,a))break;!a&&(d(p,o.name)?w?Mr(t.errors,p,o.name):x(t.errors,o.name,p[o.name]):C(t.errors,o.name))}h&&await H(h,a,u)}}return u.valid},A=()=>{for(const r of v.unMount){const a=d(n,r);a&&(a._f.refs?a._f.refs.every(u=>!De(u)):!De(a._f.ref))&&me(r)}v.unMount=new Set},V=(r,a)=>(r&&a&&x(f,r,a),!J(Te(),l)),D=(r,a,u)=>Tr(r,v,{...m.mount?f:E(a)?l:q(r)?{[r]:a}:a},u,a),T=r=>le(d(m.mount?f:l,r,e.shouldUnregister?d(l,r,[]):[])),L=(r,a,u={})=>{const y=d(n,r);let c=a;if(y){const o=y._f;o&&(!o.disabled&&x(f,r,ur(a,o)),c=de(o.ref)&&N(a)?"":a,ir(o.ref)?[...o.ref.options].forEach(h=>h.selected=c.includes(h.value)):o.refs?ue(o.ref)?o.refs.length>1?o.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(w=>w===h.value):c===h.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(h=>h.checked=h.value===c):Ce(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||_.values.next({name:r,values:{...f}})))}(u.shouldDirty||u.shouldTouch)&&se(r,c,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ne(r)},B=(r,a,u)=>{for(const y in a){const c=a[y],o=`${r}.${y}`,h=d(n,o);(v.array.has(r)||!he(c)||h&&!h._f)&&!ee(c)?B(o,c,u):L(o,c,u)}},G=(r,a,u={})=>{const y=d(n,r),c=v.array.has(r),o=Y(a);x(f,r,o),c?(_.array.next({name:r,values:{...f}}),(F.isDirty||F.dirtyFields)&&u.shouldDirty&&_.state.next({name:r,dirtyFields:pe(l,f),isDirty:V(r,o)})):y&&!y._f&&!N(o)?B(r,o,u):L(r,o,u),je(r,v)&&_.state.next({...t}),_.values.next({name:r,values:{...f}}),!m.mount&&i()},ie=async r=>{const a=r.target;let u=a.name,y=!0;const c=d(n,u),o=()=>a.type?Ee(c._f):pr(r);if(c){let h,w;const p=o(),Q=r.type===Be.BLUR||r.type===Be.FOCUS_OUT,hr=!Ir(c._f)&&!s.resolver&&!d(t.errors,u)&&!c._f.deps||Br(Q,d(t.touchedFields,u),t.isSubmitted,ge,M),xe=je(u,v,Q);x(f,u,p),Q?(c._f.onBlur&&c._f.onBlur(r),b&&b(0)):c._f.onChange&&c._f.onChange(r);const be=se(u,p,Q,!1),vr=!U(be)||xe;if(!Q&&_.values.next({name:u,type:r.type,values:{...f}}),hr)return F.isValid&&g(),vr&&_.state.next({name:u,...xe?{}:be});if(!Q&&xe&&_.state.next({...t}),R(!0),s.resolver){const{errors:Pe}=await I([u]),gr=Ge(t.errors,n,u),Ie=Ge(Pe,n,gr.name||u);h=Ie.error,u=Ie.name,w=U(Pe)}else h=(await Ke(c,f,oe,s.shouldUseNativeValidation))[u],y=isNaN(p)||p===d(f,u,p),y&&(h?w=!1:F.isValid&&(w=await H(n,!0)));y&&(c._f.deps&&ne(c._f.deps),Ve(u,w,h,be))}},ne=async(r,a={})=>{let u,y;const c=Fe(r);if(R(!0),s.resolver){const o=await K(E(r)?r:c);u=U(o),y=r?!c.some(h=>d(o,h)):u}else r?(y=(await Promise.all(c.map(async o=>{const h=d(n,o);return await H(h&&h._f?{[o]:h}:h)}))).every(Boolean),!(!y&&!t.isValid)&&g()):y=u=await H(n);return _.state.next({...!q(r)||F.isValid&&u!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:u}:{},errors:t.errors,isValidating:!1}),a.shouldFocus&&!y&&Se(n,o=>o&&d(t.errors,o),r?c:v.mount),y},Te=r=>{const a={...l,...m.mount?f:{}};return E(r)?a:q(r)?d(a,r):r.map(u=>d(a,u))},Me=(r,a)=>({invalid:!!d((a||t).errors,r),isDirty:!!d((a||t).dirtyFields,r),isTouched:!!d((a||t).touchedFields,r),error:d((a||t).errors,r)}),or=r=>{r&&Fe(r).forEach(a=>C(t.errors,a)),_.state.next({errors:r?t.errors:{}})},cr=(r,a,u)=>{const y=(d(n,r,{_f:{}})._f||{}).ref;x(t.errors,r,{...a,ref:y}),_.state.next({name:r,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},fr=(r,a)=>Z(r)?_.values.subscribe({next:u=>r(D(void 0,a),u)}):D(r,a,!0),me=(r,a={})=>{for(const u of r?Fe(r):v.mount)v.mount.delete(u),v.array.delete(u),a.keepValue||(C(n,u),C(f,u)),!a.keepError&&C(t.errors,u),!a.keepDirty&&C(t.dirtyFields,u),!a.keepTouched&&C(t.touchedFields,u),!s.shouldUnregister&&!a.keepDefaultValue&&C(l,u);_.values.next({values:{...f}}),_.state.next({...t,...a.keepDirty?{isDirty:V()}:{}}),!a.keepIsValid&&g()},Ae=(r,a={})=>{let u=d(n,r);const y=re(a.disabled);return x(n,r,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:r}},name:r,mount:!0,...a}}),v.mount.add(r),u?y&&x(f,r,a.disabled?void 0:d(f,r,Ee(u._f))):te(r,!0,a.value),{...y?{disabled:a.disabled}:{},...s.shouldUseNativeValidation?{required:!!a.required,min:ae(a.min),max:ae(a.max),minLength:ae(a.minLength),maxLength:ae(a.maxLength),pattern:ae(a.pattern)}:{},name:r,onChange:ie,onBlur:ie,ref:c=>{if(c){Ae(r,a),u=d(n,r);const o=E(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=Rr(o),w=u._f.refs||[];if(h?w.find(p=>p===o):o===u._f.ref)return;x(n,r,{_f:{...u._f,...h?{refs:[...w.filter(De),o,...Array.isArray(d(l,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o}}}),te(r,!1,void 0,o)}else u=d(n,r,{}),u._f&&(u._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(Sr(v.array,r)&&m.action)&&v.unMount.add(r)}}},Le=()=>s.shouldFocusError&&Se(n,r=>r&&d(t.errors,r),v.mount),dr=(r,a)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let y=Y(f);if(_.state.next({isSubmitting:!0}),s.resolver){const{errors:c,values:o}=await I();t.errors=c,y=o}else await H(n);C(t.errors,"root"),U(t.errors)?(_.state.next({errors:{}}),await r(y,u)):(a&&await a({...t.errors},u),Le(),setTimeout(Le)),_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors),submitCount:t.submitCount+1,errors:t.errors})},yr=(r,a={})=>{d(n,r)&&(E(a.defaultValue)?G(r,d(l,r)):(G(r,a.defaultValue),x(l,r,a.defaultValue)),a.keepTouched||C(t.touchedFields,r),a.keepDirty||(C(t.dirtyFields,r),t.isDirty=a.defaultValue?V(r,d(l,r)):V()),a.keepError||(C(t.errors,r),F.isValid&&g()),_.state.next({...t}))},Ue=(r,a={})=>{const u=r||l,y=Y(u),c=r&&!U(r)?y:l;if(a.keepDefaultValues||(l=u),!a.keepValues){if(a.keepDirtyValues||$)for(const o of v.mount)d(t.dirtyFields,o)?x(c,o,d(f,o)):G(o,d(c,o));else{if(ke&&E(r))for(const o of v.mount){const h=d(n,o);if(h&&h._f){const w=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(de(w)){const p=w.closest("form");if(p){p.reset();break}}}}n={}}f=e.shouldUnregister?a.keepDefaultValues?Y(l):{}:y,_.array.next({values:{...c}}),_.values.next({values:{...c}})}v={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!m.mount&&i(),m.mount=!F.isValid||!!a.keepIsValid,m.watch=!!e.shouldUnregister,_.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!J(r,l)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:a.keepDirtyValues?t.dirtyFields:a.keepDefaultValues&&r?pe(l,r):{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Re=(r,a)=>Ue(Z(r)?r(f):r,a);return{control:{register:Ae,unregister:me,getFieldState:Me,_executeSchema:I,_getWatch:D,_getDirty:V,_updateValid:g,_removeUnmounted:A,_updateFieldArray:j,_getFieldArray:T,_reset:Ue,_resetDefaultValues:()=>Z(s.defaultValues)&&s.defaultValues().then(r=>{Re(r,s.resetOptions),_.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_subjects:_,_proxyFormState:F,get _fields(){return n},get _formValues(){return f},get _state(){return m},set _state(r){m=r},get _defaultValues(){return l},get _names(){return v},set _names(r){v=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:ne,register:Ae,handleSubmit:dr,watch:fr,setValue:G,getValues:Te,reset:Re,resetField:yr,clearErrors:or,unregister:me,setError:cr,setFocus:(r,a={})=>{const u=d(n,r),y=u&&u._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),a.shouldSelect&&c.select())}},getFieldState:Me}}function zr(e={}){const i=z.useRef(),[s,t]=z.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...Hr(e,()=>t(l=>({...l}))),formState:s});const n=i.current.control;return n._options=e,Nr({subject:n._subjects.state,next:l=>{Cr(l,n._proxyFormState,n._updateFormState,!0)&&t({...n._formState})}}),z.useEffect(()=>{e.values&&!J(e.values,n._defaultValues)?n._reset(e.values,n._options.resetOptions):n._resetDefaultValues()},[e.values,n]),z.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),i.current.formState=Or(s,n),i.current}var Ye=function(e,i,s){if(e&&"reportValidity"in e){var t=d(s,i);e.setCustomValidity(t&&t.message||""),e.reportValidity()}},lr=function(e,i){var s=function(n){var l=i.fields[n];l&&l.ref&&"reportValidity"in l.ref?Ye(l.ref,n,e):l.refs&&l.refs.forEach(function(f){return Ye(f,n,e)})};for(var t in i.fields)s(t)},Wr=function(e,i){i.shouldUseNativeValidation&&lr(e,i);var s={};for(var t in e){var n=d(i.fields,t);x(s,t,Object.assign(e[t],{ref:n&&n.ref}))}return s},Jr=function(e,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),function(t,n,l){try{return Promise.resolve(function(f,m){try{var v=(i.context,Promise.resolve(e[s.mode==="sync"?"validateSync":"validate"](t,Object.assign({abortEarly:!1},i,{context:n}))).then(function(b){return l.shouldUseNativeValidation&&lr({},l),{values:s.rawValues?t:b,errors:{}}}))}catch(b){return m(b)}return v&&v.then?v.then(void 0,m):v}(0,function(f){if(!f.inner)throw f;return{values:{},errors:Wr((m=f,v=!l.shouldUseNativeValidation&&l.criteriaMode==="all",(m.inner||[]).reduce(function(b,k){if(b[k.path]||(b[k.path]={message:k.message,type:k.type}),v){var F=b[k.path].types,_=F&&F[k.type];b[k.path]=rr(k.path,v,b,k.type,_?[].concat(_,k.message):k.message)}return b},{})),l)};var m,v}))}catch(f){return Promise.reject(f)}}};export{wr as F,Jr as o,zr as u};
