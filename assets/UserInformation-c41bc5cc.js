import{r as n,m as le,i as E,c as C,q as ce,f as ue,b as pe,o as de,n as fe,ar as me,j as o,as as ge,at as he,_ as be,U as ve,ac as Pe,v as xe,V as Y,W as we,S as Ce,A as ye,au as ke,av as Te}from"./index-5960d643.js";import{a as je,b as Ee,u as H,c as L}from"./index-4e283e9b.js";import{A as Oe}from"./chunk-WPAIWTI3-369330bd.js";var _e={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},B=e=>{var t;return((t=e.current)==null?void 0:t.ownerDocument)||document},K=e=>{var t,r;return((r=(t=e.current)==null?void 0:t.ownerDocument)==null?void 0:r.defaultView)||window};function De(e={}){const{openDelay:t=0,closeDelay:r=0,closeOnClick:a=!0,closeOnMouseDown:c,closeOnScroll:y,closeOnPointerDown:d=c,closeOnEsc:l=!0,onOpen:f,onClose:V,placement:O,id:_,isOpen:W,defaultIsOpen:N,arrowSize:h=10,arrowShadowColor:D,arrowPadding:U,modifiers:$,isDisabled:b,gutter:k,offset:m,direction:M,...v}=e,{isOpen:i,onOpen:P,onClose:x}=je({isOpen:W,defaultIsOpen:N,onOpen:f,onClose:V}),{referenceRef:S,getPopperProps:p,getArrowInnerProps:ee,getArrowProps:oe}=Ee({enabled:i,placement:O,arrowPadding:U,modifiers:$,gutter:k,offset:m,direction:M}),te=n.useId(),I=`tooltip-${_??te}`,g=n.useRef(null),T=n.useRef(),w=n.useCallback(()=>{T.current&&(clearTimeout(T.current),T.current=void 0)},[]),A=n.useRef(),R=n.useCallback(()=>{A.current&&(clearTimeout(A.current),A.current=void 0)},[]),z=n.useCallback(()=>{R(),x()},[x,R]),Q=Se(g,z),F=n.useCallback(()=>{if(!b&&!T.current){Q();const s=K(g);T.current=s.setTimeout(P,t)}},[Q,b,P,t]),u=n.useCallback(()=>{w();const s=K(g);A.current=s.setTimeout(z,r)},[r,z,w]),G=n.useCallback(()=>{i&&a&&u()},[a,u,i]),J=n.useCallback(()=>{i&&d&&u()},[d,u,i]),re=n.useCallback(s=>{i&&s.key==="Escape"&&u()},[i,u]);H(()=>B(g),"keydown",l?re:void 0),H(()=>B(g),"scroll",()=>{i&&y&&z()}),n.useEffect(()=>{b&&(w(),i&&x())},[b,i,x,w]),n.useEffect(()=>()=>{w(),R()},[w,R]),H(()=>g.current,"pointerleave",u);const ne=n.useCallback((s={},j=null)=>({...s,ref:le(g,j,S),onPointerEnter:E(s.onPointerEnter,ie=>{ie.pointerType!=="touch"&&F()}),onClick:E(s.onClick,G),onPointerDown:E(s.onPointerDown,J),onFocus:E(s.onFocus,F),onBlur:E(s.onBlur,u),"aria-describedby":i?I:void 0}),[F,u,J,i,I,G,S]),se=n.useCallback((s={},j=null)=>p({...s,style:{...s.style,[L.arrowSize.var]:h?`${h}px`:void 0,[L.arrowShadowColor.var]:D}},j),[p,h,D]),ae=n.useCallback((s={},j=null)=>{const X={...s.style,position:"relative",transformOrigin:L.transformOrigin.varRef};return{ref:j,...v,...s,id:I,role:"tooltip",style:X}},[v,I]);return{isOpen:i,show:F,hide:u,getTriggerProps:ne,getTooltipProps:ae,getTooltipPositionerProps:se,getArrowProps:oe,getArrowInnerProps:ee}}var q="chakra-ui:close-tooltip";function Se(e,t){return n.useEffect(()=>{const r=B(e);return r.addEventListener(q,t),()=>r.removeEventListener(q,t)},[t,e]),()=>{const r=B(e),a=K(e);r.dispatchEvent(new a.CustomEvent(q))}}function Ie(e,t=[]){const r=Object.assign({},e);for(const a of t)a in r&&delete r[a];return r}function Ae(e,t){const r={};for(const a of t)a in e&&(r[a]=e[a]);return r}var Re=C(ce.div),Z=ue((e,t)=>{var r,a;const c=pe("Tooltip",e),y=de(e),d=fe(),{children:l,label:f,shouldWrapChildren:V,"aria-label":O,hasArrow:_,bg:W,portalProps:N,background:h,backgroundColor:D,bgColor:U,motionProps:$,...b}=y,k=(a=(r=h??D)!=null?r:W)!=null?a:U;if(k){c.bg=k;const p=me(d,"colors",k);c[L.arrowBg.var]=p}const m=De({...b,direction:d.direction}),M=typeof l=="string"||V;let v;if(M)v=o.jsx(C.span,{display:"inline-block",tabIndex:0,...m.getTriggerProps(),children:l});else{const p=n.Children.only(l);v=n.cloneElement(p,m.getTriggerProps(p.props,p.ref))}const i=!!O,P=m.getTooltipProps({},t),x=i?Ie(P,["role","id"]):P,S=Ae(P,["role","id"]);return f?o.jsxs(o.Fragment,{children:[v,o.jsx(ge,{children:m.isOpen&&o.jsx(he,{...N,children:o.jsx(C.div,{...m.getTooltipPositionerProps(),__css:{zIndex:c.zIndex,pointerEvents:"none"},children:o.jsxs(Re,{variants:_e,initial:"exit",animate:"enter",exit:"exit",...$,...x,__css:c,children:[f,i&&o.jsx(C.span,{srOnly:!0,...S,children:O}),_&&o.jsx(C.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:o.jsx(C.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:c.bg}})})]})})})})]}):o.jsx(o.Fragment,{children:l})});Z.displayName="Tooltip";const ze=n.lazy(()=>be(()=>import("./UserPersonalData-62a29762.js"),["assets/UserPersonalData-62a29762.js","assets/index-5960d643.js","assets/index-cd61ac83.css","assets/chunk-5FO2ZLZM-ece85e28.js","assets/chunk-IWVFML3N-770b86e7.js","assets/chunk-IJBC3YLI-1dc0c5c2.js","assets/chunk-RN6VKE3K-17968694.js","assets/chunk-GYFRIY2Z-7c2e976d.js"])),We=()=>{const{userInformation:e,user:t}=n.useContext(ve),r=n.useRef(null),a=Pe(),[c]=xe("(min-width: 800px)"),y=l=>{l.target.files&&l.target.files[0]&&t&&Te(l.target.files[0],t==null?void 0:t.uid).then(()=>a({status:"success",duration:1500,isClosable:!1,title:"Foto actualizada",position:c?"top-right":"bottom",description:"¡Foto actualizada con éxito!"})).catch(()=>a({status:"error",duration:1500,isClosable:!1,title:"Error al actualizar",position:c?"top-right":"bottom",description:"¡La foto debe ser inferior a 2MB!"}))},d=l=>{var f;return(f=l.current)==null?void 0:f.click()};return o.jsxs(Y,{minH:"calc(100vh - 64px)",bgColor:"gray.100",p:4,children:[o.jsx(we,{children:o.jsx("title",{children:"Datos personales"})}),o.jsx(Ce,{children:"Datos personales"}),o.jsxs(Y,{children:[o.jsx(Oe,{loading:"lazy",style:{width:"216px",height:"216px"},name:`${e.name} ${e.fatherSurname} ${e.motherSurname}`,src:e.profilePicture?e.profilePicture:"https://via.placeholder.com/500x500.png?text=Image+Placeholder",mt:4}),o.jsx(Z,{hasArrow:!0,label:e.profilePicture===null?"Subir foto de perfil":"Cambiar foto de perfil",placement:"bottom",children:o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:y,ref:r}),o.jsx(ye,{size:"lg",position:"relative",top:"-12",left:"12",onClick:()=>d(r),rounded:"full",icon:o.jsx(ke,{}),colorScheme:"blue","aria-label":"Subir foto de perfil"})]})}),o.jsx(ze,{name:e.name,fatherSurname:e.fatherSurname,motherSurname:e.motherSurname,birthday:e.birthday})]})]})};export{We as default};
