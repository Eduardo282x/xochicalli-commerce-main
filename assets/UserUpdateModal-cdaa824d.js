import{r as u,U as A,a as I,w as M,ac as z,v as D,aa as E,ab as l,bk as w,j as e,B as k,F as q,y as d,bv as B}from"./index-5960d643.js";import{u as G,F as s,o as L}from"./yup-fe7e9ae8.js";import{A as U,a as R}from"./chunk-BPJV7R7V-da1dd8d6.js";import{a as N,c as O,d as T,e as $}from"./chunk-PVJ72NKC-7f81f1a2.js";import{M as V}from"./chunk-YLPWWAYV-004e51a3.js";import{G as H}from"./chunk-5FO2ZLZM-ece85e28.js";import{G as t}from"./chunk-IWVFML3N-770b86e7.js";import{F as o}from"./chunk-IJBC3YLI-1dc0c5c2.js";import{F as i}from"./chunk-RN6VKE3K-17968694.js";import{I as n}from"./chunk-GYFRIY2Z-7c2e976d.js";import"./chunk-LB6CWFOC-afb3a818.js";import"./index-eaa72e81.js";const se=()=>{const p=u.useRef(),{userInformation:x}=u.useContext(A),j=I(),{isOpen:f,onClose:c,onOpen:g}=M(),m=z(),[h]=D("(min-width: 800px)"),b=E().shape({name:l().required("El nombre no puede estar vacío").min(4,"Debes ingresar al menos 4 caracteres"),fatherSurname:l().required("El apellido paterno no puede estar vacío").min(4,"Debes ingresar al menos 4 caracteres"),motherSurname:l().required("El apellido paterno no puede estar vacío").min(4,"Debes ingresar al menos 4 caracteres"),birthday:w().required("La fecha de nacimiento es requerida").max(new Date,"La fecha de nacimiento debe ser antes de hoy")}),{handleSubmit:S,register:r,formState:{errors:a,isSubmitting:v}}=G({resolver:L(b)}),y=async F=>{try{await B(F,x.uid),m({title:"Actualización de datos",description:"Se han actualizado tus datos",isClosable:!0,duration:1500,status:"success",position:h?"top-right":"bottom"}),c()}catch(C){m({title:"Actualización de datos",description:"No se han podido actualizar los datos",isClosable:!0,duration:1500,status:"error",position:h?"top-right":"bottom"}),console.log(C)}};return e.jsxs(e.Fragment,{children:[e.jsx(k,{pt:4,children:e.jsxs(q,{direction:"column",width:"100%",gap:4,children:[e.jsx(d,{colorScheme:"blue",onClick:g,children:"Editar mis datos"}),e.jsx(d,{colorScheme:"blue",variant:"link",onClick:()=>j(-1),children:"Volver"})]})}),e.jsx(U,{isOpen:f,onClose:c,leastDestructiveRef:p,size:["xs","sm","md","lg","xl"],children:e.jsx(N,{children:e.jsxs(R,{children:[e.jsx(O,{fontSize:"lg",fontWeight:"bold",children:"Actualizar datos"}),e.jsx(V,{}),e.jsx(T,{children:e.jsxs(H,{p:4,rounded:"lg",bgColor:"white",templateColumns:["repeat(1, 1fr)","repeat(1, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)"],gap:6,children:[e.jsx(t,{children:e.jsxs(o,{isInvalid:!!a.name,children:[e.jsx(i,{htmlFor:"name",children:"Nombre(s)"}),e.jsx(n,{type:"text",...r("name")}),a.name&&e.jsx(s,{children:a.name.message})]})}),e.jsx(t,{children:e.jsxs(o,{isInvalid:!!a.fatherSurname,children:[e.jsx(i,{htmlFor:"fatherSurname",children:"Apellido paterno"}),e.jsx(n,{type:"text",...r("fatherSurname")}),a.fatherSurname&&e.jsx(s,{children:a.fatherSurname.message})]})}),e.jsx(t,{children:e.jsxs(o,{isInvalid:!!a.motherSurname,children:[e.jsx(i,{htmlFor:"motherSurname",children:"Apellido materno"}),e.jsx(n,{type:"text",...r("motherSurname")}),a.motherSurname&&e.jsx(s,{children:a.motherSurname.message})]})}),e.jsx(t,{children:e.jsxs(o,{isInvalid:!!a.birthday,children:[e.jsx(i,{htmlFor:"birthday",children:"Fecha de nacimiento"}),e.jsx(n,{type:"date",...r("birthday")}),a.birthday&&e.jsx(s,{children:a.birthday.message})]})})]})}),e.jsx($,{children:e.jsx(d,{onClick:S(y),isLoading:v,loadingText:"Actualizando datos...",colorScheme:"green",children:"Guardar cambios"})})]})})})]})};export{se as default};
